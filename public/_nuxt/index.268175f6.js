import{d as K,C as N,D as U,u as M,E as O,G as S,r as Q,S as W,U as X,Q as I,o as u,c as m,a as l,g as t,h as e,w as _,p as J,H as P,j as d,n as F,e as $,t as B,k as D,v as R,F as k,A as Y,B as Z,K as ee,z as te,W as se,X as oe,_ as ae}from"./entry.c5c9e8cb.js";import{_ as le}from"./Editor.39a3c16b.js";const x=y=>(Y("data-v-2f1a05e5"),y=y(),Z(),y),ne={class:"flex flex-wrap items-center justify-between sticky"},ie={class:"flex"},de=x(()=>l("h1",{class:"text-lg lg:text-xl font-bold"},"帳號管理",-1)),re=x(()=>l("span",{class:"pr-1 duration-150"}," 保存 ",-1)),ce={class:"py-3"},ue=x(()=>l("div",{class:"flex items-center"},null,-1)),me={class:"flex items-center space-x-4"},_e={key:0,class:"flex items-center font-bold ml-3 space-x-1"},pe={key:1,class:"flex items-center font-bold ml-3 space-x-1"},xe={key:2,class:"flex items-center font-bold ml-3 space-x-1"},be={class:"flex items-center font-bold ml-3 text-green-400 space-x-1"},fe=x(()=>l("span",{class:"text-blue-400 pl-1"},"去驗證",-1)),ve=x(()=>l("span",{class:"text-blue-400 pl-1"},"修改",-1)),ye=x(()=>l("span",{class:"text-blue-400 pl-1"},"重新驗證",-1)),he=K({__name:"index",setup(y){{const{user:p}=N(),{isLogin:s}=U(p),a=M("showAuth");s.value||(a.value=!0,O().replace("/"))}const n=S({firstName:"",lastName:"",birthday:"",gender:"",intro:""}),r=S({phone:"",email:"",idCard:"",emailStatus:17,identityStatus:24}),{user:h}=N(),{info:i}=U(h),V=()=>{var p,s;for(const a in n)n[a]=((p=i.value)==null?void 0:p[a])||"";for(const a in r)r[a]=((s=i.value)==null?void 0:s[a])||""},j=Q([{value:13,label:"男性"},{value:14,label:"女性"}]);W(i,()=>{V()}),X(()=>{V()});const A=S({17:"text-red-400",18:"text-amber-500",19:"text-red-400",20:"text-green-400"}),E=I(()=>A[r.emailStatus]),T={24:"text-red-400",21:"text-amber-500",22:"text-red-400",23:"text-green-400"},z=I(()=>T[r.identityStatus]);return(p,s)=>{const a=J,c=ee,g=te,L=se,q=oe,G=le,H=P;return u(),m("div",null,[l("div",ne,[l("div",ie,[l("div",{class:"lg:hidden mr-2 flex items-center cursor-pointer",onClick:s[0]||(s[0]=o=>p.$router.go(-1))},[t(a,{class:"i-ic-round-arrow-back-ios text-sm lg:text-base"})]),de]),l("div",{class:"group rounded-full cursor-pointer bg-green-500 text-white text-sm font-bold px-4 h-8 leading-8 flex items-center",onClick:s[1]||(s[1]=o=>e(h).update(e(n)))},[re,t(a,{class:"i-ic-baseline-save-alt"})])]),l("div",ce,[t(H,{onSubmit:s[7]||(s[7]=o=>e(h).update(e(n)))},{default:_(()=>[ue,l("div",me,[t(c,{id:"firstName",modelValue:e(n).firstName,"onUpdate:modelValue":s[2]||(s[2]=o=>e(n).firstName=o),label:"姓氏",class:"mb-3 flex-1",require:!0,placeholder:"輸入姓氏"},null,8,["modelValue"]),t(c,{id:"lastName",modelValue:e(n).lastName,"onUpdate:modelValue":s[3]||(s[3]=o=>e(n).lastName=o),label:"名字",class:"mb-3 flex-1",placeholder:"輸入名字"},null,8,["modelValue"])]),t(c,{id:"phone",label:"手機號碼",class:"mb-3",value:e(r).phone,disabled:!0},null,8,["value"]),t(c,{id:"password",label:"密碼",class:"mb-3",value:"***********",disabled:!0},{label:_(()=>[t(g,{to:"/my/account/reset-password",class:"font-bold ml-3 text-blue-400"},{default:_(()=>[d(" 修改 ")]),_:1})]),_:1}),t(c,{id:"email",label:"信箱",class:"mb-3",value:e(r).email,disabled:!0},{label:_(()=>{var o,b,f;return[l("div",{class:F(e(E))},[((o=e(i))==null?void 0:o.emailStatus)===20?(u(),m("div",_e,[t(a,{class:"i-ion-checkmark-circled"}),d(" 已綁定 ")])):((b=e(i))==null?void 0:b.emailStatus)===17?(u(),m("div",pe,[t(a,{class:"i-ion-information-circle"}),d(" 未綁定 ")])):((f=e(i))==null?void 0:f.emailStatus)===18?(u(),m("div",xe,[t(a,{class:"i-ion-navigate-circle"}),d(" 驗證中 ")])):$("",!0)],2),t(g,{to:"/my/account/email-binding",class:"font-bold ml-3 text-blue-400"},{default:_(()=>{var v;return[d(B(((v=e(i))==null?void 0:v.emailStatus)===17?"去綁定":"修改"),1)]}),_:1})]}),_:1},8,["value"]),t(c,{id:"password",label:"身分證/護照",class:"mb-3",value:e(r).idCard,disabled:!0},{label:_(()=>{var o,b;return[D(l("div",be,[t(a,{class:"i-ion-checkmark-circled"}),d(" 已驗證 ")],512),[[R,((o=e(i))==null?void 0:o.identityStatus)===23]]),D(t(g,{to:"/my/account/identity-verify",class:F([e(z),"flex items-center font-bold ml-3 space-x-1"])},{default:_(()=>{var f,v,w,C;return[((f=e(i))==null?void 0:f.identityStatus)===24?(u(),m(k,{key:0},[t(a,{class:"i-ion-checkmark-circled"}),d(" 未驗證 "),fe],64)):((v=e(i))==null?void 0:v.identityStatus)===21?(u(),m(k,{key:1},[t(a,{class:"i-ion-navigate-circle"}),d(" 審核中 "),ve],64)):((w=e(i))==null?void 0:w.identityStatus)===22?(u(),m(k,{key:2},[t(a,{class:"i-ion-close-circle"}),d(" 未通過 "),l("span",null,": "+B((C=e(i))==null?void 0:C.rejectReason),1),ye],64)):$("",!0)]}),_:1},8,["class"]),[[R,((b=e(i))==null?void 0:b.identityStatus)!==23]])]}),_:1},8,["value"]),t(L,{id:"birthday",modelValue:e(n).birthday,"onUpdate:modelValue":s[4]||(s[4]=o=>e(n).birthday=o),label:"生日",class:"mb-3"},null,8,["modelValue"]),t(q,{modelValue:e(n).gender,"onUpdate:modelValue":s[5]||(s[5]=o=>e(n).gender=o),border:!0,class:"mb-3",label:"性別",options:e(j)},null,8,["modelValue","options"]),t(G,{modelValue:e(n).intro,"onUpdate:modelValue":s[6]||(s[6]=o=>e(n).intro=o),placeholder:"介紹一下自己吧~",class:"mb-3",label:"簡介"},null,8,["modelValue"])]),_:1})])])}}});const ke=ae(he,[["__scopeId","data-v-2f1a05e5"]]);export{ke as default};
