import{d as i,N as d,D as f,u as c,o as m,c as p,m as y,E as _,a as e}from"./entry.6c30726c.js";const v=e("div",{class:"flex items-center justify-between sticky"},[e("div",{class:"flex items-center space-x-2"},[e("h1",{class:"text-xl font-bold"},"信箱驗證")])],-1),x=[v],b=i({__name:"email-verify",setup(h){const n=d(),u=f(),t=c("loading"),s=c("alert");return(async()=>{const a=n.query.token||"";t.value=!0;const{error:o,message:r}=await y("/user/email-verify",{body:{token:a}});if(t.value=!1,o&&r)return s.value={type:"error",text:r,center:!0};const{user:l}=_();return l.updateField({emailStatus:20}),s.value={type:"success",title:"驗證成功",action:()=>u.push("/my/account")}})(),(a,o)=>(m(),p("div",null,x))}});export{b as default};
