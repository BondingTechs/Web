import{_ as x}from"./Filter.vue.555ef90c.js";import{_ as v}from"./Title.vue.8fe90cba.js";import{_ as k}from"./Header.ff2ee3e2.js";import{_ as h}from"./Row.4e815df5.js";import{_ as w,a as z,b as L}from"./Wrapper.abb369cf.js";import{g as B,I as C,s as N,o as c,j as $,w as n,J as A,b as o,k as a,c as u,n as T,a as H}from"./entry.0384da62.js";import"./RowLoading.ede8af67.js";const I=H("p",null,"載入更多",-1),P=[I],S={key:1,class:"text-center pt-8 text-xs font-bold tracking-widest opacity-50"},q=B({__name:"index",async setup(V){let s,l;const{data:t}=([s,l]=C(()=>A("video-news-list","/news/page",{body:{type:"video",size:12}})),s=await s,l(),s),i=N(!1),p=async()=>{i.value=!0;const d=t.value.pagination.page,r=t.value.pagination.size,{data:e}=await $fetch("/api/news/page",{method:"POST",body:{type:"video",size:r,page:d+1}}),_=(e==null?void 0:e.list)??[];setTimeout(()=>{_.length&&(t.value.list.push(..._),t.value.pagination=e.pagination??t.value.pagination),i.value=!1},300)};return(d,r)=>{const e=x,_=v,m=k,g=h,y=z,f=L,b=w;return c(),$(b,null,{default:n(()=>[o(m,{class:"z-10 sticky border-b bg-white border-gray-900/10 top-12 dark:bg-gray-900 dark:border-gray-700"},{default:n(()=>[o(_,{tag:"h1",title:"影音新聞",class:"capitalize"},{default:n(()=>[o(e)]),_:1})]),_:1}),o(f,null,{default:n(()=>[o(y,null,{default:n(()=>[o(g,{tag:"h3",list:a(t).list??[],infinite:!0,loading:a(i),onLoad:p},null,8,["list","loading"]),a(t).pagination.total>a(t).pagination.size*a(t).pagination.page?(c(),u("div",{key:0,class:T(["block py-4 mt-3 text-xs font-bold text-center text-gray-500 duration-300 border-t border-b border-gray-300 dark:text-gray-400 dark:border-gray-800 hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",{hidden:a(i)}]),onClick:r[0]||(r[0]=j=>p())},P,2)):(c(),u("div",S," 無更多資料... "))]),_:1})]),_:1})]),_:1})}}});export{q as default};
