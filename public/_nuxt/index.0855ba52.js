import{_ as x}from"./Filter.vue.77c4b053.js";import{_ as k}from"./Title.vue.6ae9b013.js";import{_ as v}from"./Header.1fe5d536.js";import{_ as w}from"./Row.0e45151c.js";import{_ as h,a as z,b as L}from"./Wrapper.68e6eeae.js";import{f as B,G as C,p as N,o as _,i as $,w as s,H as A,b as a,j as n,c as u,a as H,n as T}from"./entry.d14bdab2.js";import"./RowLoading.957c2494.js";const P={key:1,class:"text-center pt-8 text-xs font-bold tracking-widest opacity-50"},U=B({__name:"index",async setup(S){let i,p;const{data:t}=([i,p]=C(()=>A("video-news-list","/news/page",{body:{type:12,size:12}})),i=await i,p(),i),r=N(!1),c=async()=>{r.value=!0;const d=t.value.pagination.page,e=t.value.pagination.size,{data:o}=await $fetch("/api/news/page",{method:"POST",body:{type:12,size:e,page:d+1}}),l=(o==null?void 0:o.list)??[];setTimeout(()=>{l.length&&(t.value.list.push(...l),t.value.pagination=o.pagination??t.value.pagination),r.value=!1},300)};return(d,e)=>{const o=x,l=k,m=v,g=w,f=z,y=L,b=h;return _(),$(b,null,{default:s(()=>[a(m,{class:"z-10 sticky border-b bg-white border-gray-900/10 top-12 dark:bg-gray-900 dark:border-gray-700"},{default:s(()=>[a(l,{tag:"h1",title:"影音新聞",class:"capitalize"},{default:s(()=>[a(o)]),_:1})]),_:1}),a(y,null,{default:s(()=>[a(f,null,{default:s(()=>[a(g,{tag:"h3",list:n(t).list??[],infinite:!0,loading:n(r),onLoad:c},null,8,["list","loading"]),n(t).pagination.total>n(t).pagination.size*n(t).pagination.page?(_(),u("div",{key:0,class:T(["block py-4 mt-3 text-xs font-bold text-center text-gray-500 duration-300 border-t border-b border-gray-300 dark:text-gray-400 dark:border-gray-800 hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",{hidden:n(r)}]),onClick:e[0]||(e[0]=V=>c())},e[1]||(e[1]=[H("p",null,"載入更多",-1)]),2)):(_(),u("div",P," 無更多資料... "))]),_:1})]),_:1})]),_:1})}}});export{U as default};
