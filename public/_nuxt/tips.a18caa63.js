import{d as f,r as c,Q as h,U as k,o as d,c as u,a,g as p,h as r,F as w,k as v,v as _,e as C,m,p as $}from"./entry.6c30726c.js";import{_ as z}from"./Row.vue.f9b04fd9.js";const B={class:"pb-4"},F={class:"flex items-center sticky mb-4"},N=a("h1",{class:"text-lg lg:text-xl font-bold"},"小知識列表",-1),V={class:"list"},M=a("p",null,"載入更多",-1),T=[M],U={class:"text-center pt-8 text-xs font-bold tracking-widest opacity-50"},I=f({__name:"tips",setup(D){const i=c([]),o=c({}),n=c(!0),l=h(()=>{var s,e,t;return((s=o.value)==null?void 0:s.total)<=((e=o.value)==null?void 0:e.size)*((t=o.value)==null?void 0:t.page)}),g=async(s=1,e=10)=>{n.value=!0;const{data:t}=await m("/my/tips",{body:{page:s,size:e}});i.value=t==null?void 0:t.list,o.value=t==null?void 0:t.pagination,n.value=!1};k(()=>{g()});const b=async()=>{if(l.value||n.value)return;n.value=!0;const s=o.value.page,e=o.value.size,{data:t}=await m("/my/history",{body:{size:e,page:s}});i.value.push(...t.list),o.value=t.pagination,n.value=!1};return(s,e)=>{const t=$,x=z;return d(),u("div",B,[a("div",F,[a("div",{class:"lg:hidden mr-2 flex items-center cursor-pointer",onClick:e[0]||(e[0]=y=>s.$router.go(-1))},[p(t,{class:"i-ic-round-arrow-back-ios text-sm lg:text-base"})]),N]),a("div",V,[p(x,{list:r(i)},null,8,["list"]),r(n)?C("",!0):(d(),u(w,{key:0},[v(a("div",{class:"dark:text-gray-400 block border-t py-4 mt-3 font-bold text-center text-xs text-gray-500 border-gray-200 dark:border-gray-800 duration-300 border-b hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",onClick:e[1]||(e[1]=y=>b())},T,512),[[_,!r(l)]]),v(a("div",U," 無更多資料... ",512),[[_,r(l)]])],64))])])}}});export{I as default};
