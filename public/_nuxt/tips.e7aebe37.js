import{f as x,p as c,h as k,y as h,o as u,c as d,a,b as p,j as r,F as w,T as v,U as m,D as C,J as g,E as $}from"./entry.d14bdab2.js";import{_ as z}from"./Row.vue.93cf23b0.js";const B={class:"pb-4"},F={class:"flex items-center sticky mb-4"},N={class:"list"},T={class:"text-center pt-8 text-xs font-bold tracking-widest opacity-50"},M=x({__name:"tips",setup(V){const i=c([]),o=c({}),n=c(!0),l=k(()=>{var s,t,e;return((s=o.value)==null?void 0:s.total)<=((t=o.value)==null?void 0:t.size)*((e=o.value)==null?void 0:e.page)}),b=async(s=1,t=10)=>{n.value=!0;const{data:e}=await g("/my/tips",{body:{page:s,size:t}});i.value=e==null?void 0:e.list,o.value=e==null?void 0:e.pagination,n.value=!1};h(()=>{b()});const y=async()=>{if(l.value||n.value)return;n.value=!0;const s=o.value.page,t=o.value.size,{data:e}=await g("/my/history",{body:{size:t,page:s}});i.value.push(...e.list),o.value=e.pagination,n.value=!1};return(s,t)=>{const e=$,_=z;return u(),d("div",B,[a("div",F,[a("div",{class:"lg:hidden mr-2 flex items-center cursor-pointer",onClick:t[0]||(t[0]=f=>s.$router.go(-1))},[p(e,{class:"i-ic-round-arrow-back-ios text-sm lg:text-base"})]),t[2]||(t[2]=a("h1",{class:"text-lg lg:text-xl font-bold"},"小知識列表",-1))]),a("div",N,[p(_,{list:r(i)},null,8,["list"]),r(n)?C("",!0):(u(),d(w,{key:0},[v(a("div",{class:"dark:text-gray-400 block border-t py-4 mt-3 font-bold text-center text-xs text-gray-500 border-gray-200 dark:border-gray-800 duration-300 border-b hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",onClick:t[1]||(t[1]=f=>y())},t[3]||(t[3]=[a("p",null,"載入更多",-1)]),512),[[m,!r(l)]]),v(a("div",T," 無更多資料... ",512),[[m,r(l)]])],64))])])}}});export{M as default};
